{"ast":null,"code":"export const NATIVE_ACTION = '$$native_action';\nexport const NATIVE_ACTION_RESULT = '$$native_action_result';\nexport const DOM_EVENT = '$$dom_event';\nexport const MATCH_CONTENTS_EVENT = '$$match_contents_event';\nexport const REGISTER_DOM_IMPERATIVE_HANDLE_PROPS = '$$register_dom_imperative_handle_props';\nexport const getInjectEventScript = detail => {\n  return `;(function() {\n  try {\n  window.dispatchEvent(new CustomEvent(\"${DOM_EVENT}\",${JSON.stringify({\n    detail\n  })}));\n  } catch (e) {}\n  })();\n  true;`;\n};\nexport function getInjectBodySizeObserverScript() {\n  return `;(function observeDocumentBodySize() {\n  window.addEventListener('DOMContentLoaded', () => {\n    new ResizeObserver(entries => {\n      const { width, height } = entries[0].contentRect;\n      window.ReactNativeWebView?.postMessage(JSON.stringify({\n        type: '${MATCH_CONTENTS_EVENT}',\n        data: {\n          width,\n          height,\n        },\n      }));\n    })\n    .observe(document.body);\n    window.ReactNativeWebView?.postMessage(JSON.stringify({\n      type: '${MATCH_CONTENTS_EVENT}',\n      data: {\n        width: document.body.clientWidth,\n        height: document.body.clientHeight,\n      },\n    }));\n  });\n  })();\n  true;`;\n}","map":{"version":3,"names":["NATIVE_ACTION","NATIVE_ACTION_RESULT","DOM_EVENT","MATCH_CONTENTS_EVENT","REGISTER_DOM_IMPERATIVE_HANDLE_PROPS","getInjectEventScript","detail","JSON","stringify","getInjectBodySizeObserverScript"],"sources":["/Users/sbudhwar/workspace/github/tomanage/node_modules/expo/src/dom/injection.ts"],"sourcesContent":["import type { BridgeMessage } from './dom.types';\n\nexport const NATIVE_ACTION = '$$native_action';\nexport const NATIVE_ACTION_RESULT = '$$native_action_result';\nexport const DOM_EVENT = '$$dom_event';\nexport const MATCH_CONTENTS_EVENT = '$$match_contents_event';\nexport const REGISTER_DOM_IMPERATIVE_HANDLE_PROPS = '$$register_dom_imperative_handle_props';\n\nexport const getInjectEventScript = <T extends BridgeMessage<any>>(detail: T) => {\n  return `;(function() {\n  try {\n  window.dispatchEvent(new CustomEvent(\"${DOM_EVENT}\",${JSON.stringify({ detail })}));\n  } catch (e) {}\n  })();\n  true;`;\n};\n\nexport function getInjectBodySizeObserverScript() {\n  return `;(function observeDocumentBodySize() {\n  window.addEventListener('DOMContentLoaded', () => {\n    new ResizeObserver(entries => {\n      const { width, height } = entries[0].contentRect;\n      window.ReactNativeWebView?.postMessage(JSON.stringify({\n        type: '${MATCH_CONTENTS_EVENT}',\n        data: {\n          width,\n          height,\n        },\n      }));\n    })\n    .observe(document.body);\n    window.ReactNativeWebView?.postMessage(JSON.stringify({\n      type: '${MATCH_CONTENTS_EVENT}',\n      data: {\n        width: document.body.clientWidth,\n        height: document.body.clientHeight,\n      },\n    }));\n  });\n  })();\n  true;`;\n}\n"],"mappings":"AAEA,OAAO,MAAMA,aAAa,GAAG,iBAAiB;AAC9C,OAAO,MAAMC,oBAAoB,GAAG,wBAAwB;AAC5D,OAAO,MAAMC,SAAS,GAAG,aAAa;AACtC,OAAO,MAAMC,oBAAoB,GAAG,wBAAwB;AAC5D,OAAO,MAAMC,oCAAoC,GAAG,wCAAwC;AAE5F,OAAO,MAAMC,oBAAoB,GAAkCC,MAAS,IAAK;EAC/E,OAAO;AACT;AACA,0CAA0CJ,SAAS,KAAKK,IAAI,CAACC,SAAS,CAAC;IAAEF;EAAO,CAAC,CAAC;AAClF;AACA;AACA,QAAQ;AACR,CAAC;AAED,OAAO,SAASG,+BAA+BA,CAAA,EAAG;EAChD,OAAO;AACT;AACA;AACA;AACA;AACA,iBAAiBN,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeA,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}