{"ast":null,"code":"var _jsxFileName = \"/Users/sbudhwar/workspace/github/tomanage/node_modules/@expo/metro-runtime/src/error-overlay/UI/LogBoxMessage.tsx\";\nimport React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst cleanContent = content => content.replace(/^(TransformError |Warning: (Warning: )?|Error: )/g, '');\nexport function LogBoxMessage(props) {\n  const {\n    content,\n    substitutions\n  } = props.message;\n  if (props.plaintext === true) {\n    return _jsxDEV(Text, {\n      children: cleanContent(content)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 12\n    }, this);\n  }\n  const maxLength = props.maxLength != null ? props.maxLength : Infinity;\n  const substitutionStyle = props.style;\n  const elements = [];\n  let length = 0;\n  const createUnderLength = (key, message, style) => {\n    let cleanMessage = cleanContent(message);\n    if (props.maxLength != null) {\n      cleanMessage = cleanMessage.slice(0, props.maxLength - length);\n    }\n    if (length < maxLength) {\n      elements.push(_jsxDEV(Text, {\n        style: style,\n        children: cleanMessage\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this));\n    }\n    length += cleanMessage.length;\n  };\n  const lastOffset = substitutions.reduce((prevOffset, substitution, index) => {\n    const key = String(index);\n    if (substitution.offset > prevOffset) {\n      const prevPart = content.substr(prevOffset, substitution.offset - prevOffset);\n      createUnderLength(key, prevPart);\n    }\n    const substititionPart = content.substr(substitution.offset, substitution.length);\n    createUnderLength(key + '.5', substititionPart, substitutionStyle);\n    return substitution.offset + substitution.length;\n  }, 0);\n  if (lastOffset < content.length) {\n    const lastPart = content.substr(lastOffset);\n    createUnderLength('-1', lastPart);\n  }\n  return _jsxDEV(_Fragment, {\n    children: elements\n  }, void 0, false);\n}","map":{"version":3,"names":["React","Text","jsxDEV","_jsxDEV","Fragment","_Fragment","cleanContent","content","replace","LogBoxMessage","props","substitutions","message","plaintext","children","fileName","_jsxFileName","lineNumber","columnNumber","maxLength","Infinity","substitutionStyle","style","elements","length","createUnderLength","key","cleanMessage","slice","push","lastOffset","reduce","prevOffset","substitution","index","String","offset","prevPart","substr","substititionPart","lastPart"],"sources":["/Users/sbudhwar/workspace/github/tomanage/node_modules/@expo/metro-runtime/src/error-overlay/UI/LogBoxMessage.tsx"],"sourcesContent":["/**\n * Copyright (c) 650 Industries.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport { StyleProp, Text, TextStyle } from 'react-native';\n\nimport type { Message } from '../Data/parseLogBoxLog';\n\ntype Props = {\n  message: Message;\n  style: StyleProp<TextStyle>;\n  plaintext?: boolean;\n  maxLength?: number;\n};\n\nconst cleanContent = (content: string) =>\n  content.replace(/^(TransformError |Warning: (Warning: )?|Error: )/g, '');\n\nexport function LogBoxMessage(props: Props): React.ReactElement {\n  const { content, substitutions }: Message = props.message;\n\n  if (props.plaintext === true) {\n    return <Text>{cleanContent(content)}</Text>;\n  }\n\n  const maxLength = props.maxLength != null ? props.maxLength : Infinity;\n  const substitutionStyle: StyleProp<TextStyle> = props.style;\n  const elements: React.ReactElement[] = [];\n  let length = 0;\n  const createUnderLength = (key: string | '-1', message: string, style?: StyleProp<TextStyle>) => {\n    let cleanMessage = cleanContent(message);\n\n    if (props.maxLength != null) {\n      cleanMessage = cleanMessage.slice(0, props.maxLength - length);\n    }\n\n    if (length < maxLength) {\n      elements.push(\n        <Text key={key} style={style}>\n          {cleanMessage}\n        </Text>\n      );\n    }\n\n    length += cleanMessage.length;\n  };\n\n  const lastOffset = substitutions.reduce((prevOffset, substitution, index) => {\n    const key = String(index);\n\n    if (substitution.offset > prevOffset) {\n      const prevPart = content.substr(prevOffset, substitution.offset - prevOffset);\n\n      createUnderLength(key, prevPart);\n    }\n\n    const substititionPart = content.substr(substitution.offset, substitution.length);\n\n    createUnderLength(key + '.5', substititionPart, substitutionStyle);\n    return substitution.offset + substitution.length;\n  }, 0);\n\n  if (lastOffset < content.length) {\n    const lastPart = content.substr(lastOffset);\n    createUnderLength('-1', lastPart);\n  }\n\n  return <>{elements}</>;\n}\n"],"mappings":";AAOA,OAAOA,KAAK,MAAM,OAAO;AAAC,OAAAC,IAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAY1B,MAAMC,YAAY,GAAIC,OAAe,IACnCA,OAAO,CAACC,OAAO,CAAC,mDAAmD,EAAE,EAAE,CAAC;AAE1E,OAAO,SAASC,aAAaA,CAACC,KAAY,EAAsB;EAC9D,MAAM;IAAEH,OAAO;IAAEI;EAAuB,CAAC,GAAGD,KAAK,CAACE,OAAO;EAEzD,IAAIF,KAAK,CAACG,SAAS,KAAK,IAAI,EAAE;IAC5B,OAAOV,OAAA,CAACF,IAAI;MAAAa,QAAA,EAAER,YAAY,CAACC,OAAO;IAAC;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC;EAC7C;EAEA,MAAMC,SAAS,GAAGT,KAAK,CAACS,SAAS,IAAI,IAAI,GAAGT,KAAK,CAACS,SAAS,GAAGC,QAAQ;EACtE,MAAMC,iBAAuC,GAAGX,KAAK,CAACY,KAAK;EAC3D,MAAMC,QAA8B,GAAG,EAAE;EACzC,IAAIC,MAAM,GAAG,CAAC;EACd,MAAMC,iBAAiB,GAAGA,CAACC,GAAkB,EAAEd,OAAe,EAAEU,KAA4B,KAAK;IAC/F,IAAIK,YAAY,GAAGrB,YAAY,CAACM,OAAO,CAAC;IAExC,IAAIF,KAAK,CAACS,SAAS,IAAI,IAAI,EAAE;MAC3BQ,YAAY,GAAGA,YAAY,CAACC,KAAK,CAAC,CAAC,EAAElB,KAAK,CAACS,SAAS,GAAGK,MAAM,CAAC;IAChE;IAEA,IAAIA,MAAM,GAAGL,SAAS,EAAE;MACtBI,QAAQ,CAACM,IAAI,CACX1B,OAAA,CAACF,IAAI;QAAWqB,KAAK,EAAEA,KAAM;QAAAR,QAAA,EAC1Ba;MAAY,GADJD,GAAG;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAER,CACR,CAAC;IACH;IAEAM,MAAM,IAAIG,YAAY,CAACH,MAAM;EAC/B,CAAC;EAED,MAAMM,UAAU,GAAGnB,aAAa,CAACoB,MAAM,CAAC,CAACC,UAAU,EAAEC,YAAY,EAAEC,KAAK,KAAK;IAC3E,MAAMR,GAAG,GAAGS,MAAM,CAACD,KAAK,CAAC;IAEzB,IAAID,YAAY,CAACG,MAAM,GAAGJ,UAAU,EAAE;MACpC,MAAMK,QAAQ,GAAG9B,OAAO,CAAC+B,MAAM,CAACN,UAAU,EAAEC,YAAY,CAACG,MAAM,GAAGJ,UAAU,CAAC;MAE7EP,iBAAiB,CAACC,GAAG,EAAEW,QAAQ,CAAC;IAClC;IAEA,MAAME,gBAAgB,GAAGhC,OAAO,CAAC+B,MAAM,CAACL,YAAY,CAACG,MAAM,EAAEH,YAAY,CAACT,MAAM,CAAC;IAEjFC,iBAAiB,CAACC,GAAG,GAAG,IAAI,EAAEa,gBAAgB,EAAElB,iBAAiB,CAAC;IAClE,OAAOY,YAAY,CAACG,MAAM,GAAGH,YAAY,CAACT,MAAM;EAClD,CAAC,EAAE,CAAC,CAAC;EAEL,IAAIM,UAAU,GAAGvB,OAAO,CAACiB,MAAM,EAAE;IAC/B,MAAMgB,QAAQ,GAAGjC,OAAO,CAAC+B,MAAM,CAACR,UAAU,CAAC;IAC3CL,iBAAiB,CAAC,IAAI,EAAEe,QAAQ,CAAC;EACnC;EAEA,OAAOrC,OAAA,CAAAE,SAAA;IAAAS,QAAA,EAAGS;EAAQ,gBAAG,CAAC;AACxB","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}