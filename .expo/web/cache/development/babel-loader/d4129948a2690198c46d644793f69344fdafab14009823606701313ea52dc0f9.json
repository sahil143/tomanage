{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.appendInternalExpoRouterParams = appendInternalExpoRouterParams;\nexports.getInternalExpoRouterParams = getInternalExpoRouterParams;\nexports.removeInternalExpoRouterParams = removeInternalExpoRouterParams;\nconst INTERNAL_EXPO_ROUTER_NO_ANIMATION_PARAM_NAME = '__internal_expo_router_no_animation';\nconst INTERNAL_EXPO_ROUTER_IS_PREVIEW_NAVIGATION_PARAM_NAME = '__internal__expo_router_is_preview_navigation';\nconst internalExpoRouterParamNames = [INTERNAL_EXPO_ROUTER_NO_ANIMATION_PARAM_NAME, INTERNAL_EXPO_ROUTER_IS_PREVIEW_NAVIGATION_PARAM_NAME];\nfunction appendInternalExpoRouterParams(params, expoParams) {\n  let newParams = {};\n  let nestedParams = {};\n  if (params) {\n    newParams = Object.assign({}, params);\n    if ('params' in params) {\n      if (typeof params.params === 'object' && params.params) {\n        nestedParams = params.params;\n      }\n    }\n  }\n  nestedParams = Object.assign({}, nestedParams, expoParams);\n  newParams = Object.assign({}, newParams, expoParams);\n  if (Object.keys(nestedParams).length > 0) {\n    newParams.params = nestedParams;\n  }\n  if (Object.keys(newParams).length === 0 && params === undefined) {\n    return undefined;\n  }\n  return newParams;\n}\nfunction getInternalExpoRouterParams(_params) {\n  const expoParams = {};\n  const params = _params ? _params : {};\n  const nestedParams = 'params' in params && typeof params.params === 'object' && params.params ? params.params : {};\n  for (const key of internalExpoRouterParamNames) {\n    if (key in params) {\n      expoParams[key] = params[key];\n    } else if (key in nestedParams) {\n      expoParams[key] = nestedParams[key];\n    }\n  }\n  return expoParams;\n}\nfunction removeInternalExpoRouterParams(params) {\n  if (!params) {\n    return undefined;\n  }\n  const newNestedParams = 'params' in params && typeof params.params === 'object' && params.params ? Object.fromEntries(Object.entries(params.params).filter(([key]) => !internalExpoRouterParamNames.includes(key))) : {};\n  const newParams = Object.fromEntries(Object.entries(params).filter(([key]) => !internalExpoRouterParamNames.includes(key) && key !== 'params'));\n  if (Object.keys(newNestedParams).length > 0) {\n    return Object.assign({}, newParams, {\n      params: newNestedParams\n    });\n  }\n  return newParams;\n}","map":{"version":3,"names":["exports","appendInternalExpoRouterParams","getInternalExpoRouterParams","removeInternalExpoRouterParams","INTERNAL_EXPO_ROUTER_NO_ANIMATION_PARAM_NAME","INTERNAL_EXPO_ROUTER_IS_PREVIEW_NAVIGATION_PARAM_NAME","internalExpoRouterParamNames","params","expoParams","newParams","nestedParams","Object","assign","keys","length","undefined","_params","key","newNestedParams","fromEntries","entries","filter","includes"],"sources":["/Users/sbudhwar/workspace/github/tomanage/node_modules/expo-router/src/navigationParams.ts"],"sourcesContent":["const INTERNAL_EXPO_ROUTER_NO_ANIMATION_PARAM_NAME = '__internal_expo_router_no_animation';\nconst INTERNAL_EXPO_ROUTER_IS_PREVIEW_NAVIGATION_PARAM_NAME =\n  '__internal__expo_router_is_preview_navigation';\n\nconst internalExpoRouterParamNames = [\n  INTERNAL_EXPO_ROUTER_NO_ANIMATION_PARAM_NAME,\n  INTERNAL_EXPO_ROUTER_IS_PREVIEW_NAVIGATION_PARAM_NAME,\n] as const;\n\nexport type InternalExpoRouterParamName = (typeof internalExpoRouterParamNames)[number];\nexport type InternalExpoRouterParams = Partial<Record<InternalExpoRouterParamName, unknown>>;\n\nexport function appendInternalExpoRouterParams(\n  params: Record<string, unknown> | object | undefined,\n  expoParams: InternalExpoRouterParams\n) {\n  let newParams: Record<string, unknown> = {};\n  // Using nested params is a workaround for the issue with the preview key not being passed to the params\n  // https://github.com/Ubax/react-navigation/blob/main/packages/core/src/useNavigationBuilder.tsx#L573\n  // Another solution would be to propagate the preview key in the useNavigationBuilder,\n  // but that would require us to fork the @react-navigation/core package.\n  let nestedParams: Record<string, unknown> = {};\n  if (params) {\n    newParams = { ...params };\n    if ('params' in params) {\n      if (typeof params.params === 'object' && params.params) {\n        nestedParams = params.params as Record<string, unknown>;\n      }\n    }\n  }\n  nestedParams = { ...nestedParams, ...expoParams };\n  newParams = { ...newParams, ...expoParams };\n  if (Object.keys(nestedParams).length > 0) {\n    newParams.params = nestedParams;\n  }\n  if (Object.keys(newParams).length === 0 && params === undefined) {\n    return undefined;\n  }\n  return newParams;\n}\n\nexport function getInternalExpoRouterParams(\n  _params: Record<string, unknown> | object | undefined\n): InternalExpoRouterParams {\n  const expoParams: InternalExpoRouterParams = {};\n  const params: Record<string, unknown> = _params ? (_params as Record<string, unknown>) : {};\n  const nestedParams: Record<string, unknown> =\n    'params' in params && typeof params.params === 'object' && params.params\n      ? (params.params as Record<string, unknown>)\n      : {};\n\n  for (const key of internalExpoRouterParamNames) {\n    if (key in params) {\n      expoParams[key] = params[key];\n    } else if (key in nestedParams) {\n      expoParams[key] = nestedParams[key];\n    }\n  }\n\n  return expoParams;\n}\n\nexport function removeInternalExpoRouterParams(\n  params: Record<string, unknown> | object\n): Record<string, unknown> | object;\nexport function removeInternalExpoRouterParams(\n  params: Record<string, unknown> | object | undefined\n): Record<string, unknown> | object | undefined;\nexport function removeInternalExpoRouterParams(\n  params: Record<string, unknown> | object | undefined\n): Record<string, unknown> | object | undefined {\n  if (!params) {\n    return undefined;\n  }\n  const newNestedParams =\n    'params' in params && typeof params.params === 'object' && params.params\n      ? Object.fromEntries(\n          Object.entries(params.params).filter(\n            ([key]) => !internalExpoRouterParamNames.includes(key as InternalExpoRouterParamName)\n          )\n        )\n      : {};\n  const newParams = Object.fromEntries(\n    Object.entries(params).filter(\n      ([key]) =>\n        !internalExpoRouterParamNames.includes(key as InternalExpoRouterParamName) &&\n        key !== 'params'\n    )\n  );\n  if (Object.keys(newNestedParams).length > 0) {\n    return { ...newParams, params: newNestedParams };\n  }\n  return newParams;\n}\n"],"mappings":";;;;;AAYAA,OAAA,CAAAC,8BAAA,GAAAA,8BAAA;AA6BAD,OAAA,CAAAE,2BAAA,GAAAA,2BAAA;AA2BAF,OAAA,CAAAG,8BAAA,GAAAA,8BAAA;AApEA,MAAMC,4CAA4C,GAAG,qCAAqC;AAC1F,MAAMC,qDAAqD,GACzD,+CAA+C;AAEjD,MAAMC,4BAA4B,GAAG,CACnCF,4CAA4C,EAC5CC,qDAAqD,CAC7C;AAKV,SAAgBJ,8BAA8BA,CAC5CM,MAAoD,EACpDC,UAAoC;EAEpC,IAAIC,SAAS,GAA4B,EAAE;EAK3C,IAAIC,YAAY,GAA4B,EAAE;EAC9C,IAAIH,MAAM,EAAE;IACVE,SAAS,GAAAE,MAAA,CAAAC,MAAA,KAAQL,MAAM,CAAE;IACzB,IAAI,QAAQ,IAAIA,MAAM,EAAE;MACtB,IAAI,OAAOA,MAAM,CAACA,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACA,MAAM,EAAE;QACtDG,YAAY,GAAGH,MAAM,CAACA,MAAiC;MACzD;IACF;EACF;EACAG,YAAY,GAAAC,MAAA,CAAAC,MAAA,KAAQF,YAAY,EAAKF,UAAU,CAAE;EACjDC,SAAS,GAAAE,MAAA,CAAAC,MAAA,KAAQH,SAAS,EAAKD,UAAU,CAAE;EAC3C,IAAIG,MAAM,CAACE,IAAI,CAACH,YAAY,CAAC,CAACI,MAAM,GAAG,CAAC,EAAE;IACxCL,SAAS,CAACF,MAAM,GAAGG,YAAY;EACjC;EACA,IAAIC,MAAM,CAACE,IAAI,CAACJ,SAAS,CAAC,CAACK,MAAM,KAAK,CAAC,IAAIP,MAAM,KAAKQ,SAAS,EAAE;IAC/D,OAAOA,SAAS;EAClB;EACA,OAAON,SAAS;AAClB;AAEA,SAAgBP,2BAA2BA,CACzCc,OAAqD;EAErD,MAAMR,UAAU,GAA6B,EAAE;EAC/C,MAAMD,MAAM,GAA4BS,OAAO,GAAIA,OAAmC,GAAG,EAAE;EAC3F,MAAMN,YAAY,GAChB,QAAQ,IAAIH,MAAM,IAAI,OAAOA,MAAM,CAACA,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACA,MAAM,GACnEA,MAAM,CAACA,MAAkC,GAC1C,EAAE;EAER,KAAK,MAAMU,GAAG,IAAIX,4BAA4B,EAAE;IAC9C,IAAIW,GAAG,IAAIV,MAAM,EAAE;MACjBC,UAAU,CAACS,GAAG,CAAC,GAAGV,MAAM,CAACU,GAAG,CAAC;IAC/B,CAAC,MAAM,IAAIA,GAAG,IAAIP,YAAY,EAAE;MAC9BF,UAAU,CAACS,GAAG,CAAC,GAAGP,YAAY,CAACO,GAAG,CAAC;IACrC;EACF;EAEA,OAAOT,UAAU;AACnB;AAQA,SAAgBL,8BAA8BA,CAC5CI,MAAoD;EAEpD,IAAI,CAACA,MAAM,EAAE;IACX,OAAOQ,SAAS;EAClB;EACA,MAAMG,eAAe,GACnB,QAAQ,IAAIX,MAAM,IAAI,OAAOA,MAAM,CAACA,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACA,MAAM,GACpEI,MAAM,CAACQ,WAAW,CAChBR,MAAM,CAACS,OAAO,CAACb,MAAM,CAACA,MAAM,CAAC,CAACc,MAAM,CAClC,CAAC,CAACJ,GAAG,CAAC,KAAK,CAACX,4BAA4B,CAACgB,QAAQ,CAACL,GAAkC,CAAC,CACtF,CACF,GACD,EAAE;EACR,MAAMR,SAAS,GAAGE,MAAM,CAACQ,WAAW,CAClCR,MAAM,CAACS,OAAO,CAACb,MAAM,CAAC,CAACc,MAAM,CAC3B,CAAC,CAACJ,GAAG,CAAC,KACJ,CAACX,4BAA4B,CAACgB,QAAQ,CAACL,GAAkC,CAAC,IAC1EA,GAAG,KAAK,QAAQ,CACnB,CACF;EACD,IAAIN,MAAM,CAACE,IAAI,CAACK,eAAe,CAAC,CAACJ,MAAM,GAAG,CAAC,EAAE;IAC3C,OAAAH,MAAA,CAAAC,MAAA,KAAYH,SAAS;MAAEF,MAAM,EAAEW;IAAe;EAChD;EACA,OAAOT,SAAS;AAClB","ignoreList":[]},"metadata":{"hasCjsExports":true},"sourceType":"script","externalDependencies":[]}